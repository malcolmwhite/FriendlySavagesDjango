(function(){var a;var d=".sm2-bar-ui";var c=window.sm2BarPlayers;var b=window.SM2BarPlayer;soundManager.setup({url:"../../swf/"});a={css:(function(){function f(k,j){return(k.className!==undefined?new RegExp("(^|\\s)"+j+"(\\s|$)").test(k.className):false)}function g(k,j){if(!k||!j||f(k,j)){return false}k.className=(k.className?k.className+" ":"")+j}function h(k,j){if(!k||!j||!f(k,j)){return false}k.className=k.className.replace(new RegExp("( "+j+")|("+j+")","g"),"")}function i(m,l,k){var j={className:m.className};h(j,l);g(j,k);m.className=j.className}function e(l,j){var k,m;k=f(l,j);m=(k?h:g);m(l,j);return !k}return{has:f,add:g,remove:h,swap:i,toggle:e}}()),dom:(function(){function g(){var j,h,i;if(arguments.length===1){j=document.documentElement;h=arguments[0]}else{j=arguments[0];h=arguments[1]}if(j){i=j.querySelectorAll(h)}return i}function e(){var h=g.apply(this,arguments);if(h&&h.length){h=h[h.length-1]}return h}function f(){var h=g.apply(this,arguments);if(h&&h.length){h=h[0]}return h}return{get:e,getAll:g,getFirst:f}}()),events:(function(){var g,e,f;g=function(k,j,i){var h={detach:function(){return e(k,j,i)}};if(window.addEventListener){k.addEventListener(j,i,false)}else{k.attachEvent("on"+j,i)}return h};e=(window.removeEventListener!==undefined?function(j,i,h){return j.removeEventListener(i,h,false)}:function(j,i,h){return j.detachEvent("on"+i,h)});f=function(h){if(h.preventDefault){h.preventDefault()}else{h.returnValue=false;h.cancelBubble=true}return false};return{add:g,preventDefault:f,remove:e}}())};soundManager.onready(function(){var k={pageBackgroundPicker:document.getElementById("page-background"),playerBackgroundPicker:document.getElementById("player-background"),colorPicker:document.getElementById("color-field"),opacityPicker:document.getElementById("opacity-field"),sizePicker:document.getElementById("size-field"),colorOutput:document.getElementById("color-output"),backgroundValue:null,opacityValue:null,sizeValue:null};k.backgroundValue=k.colorPicker.value;k.opacityValue=k.opacityPicker.value;k.sizeValue=k.sizePicker.value;function g(p){var q=parseInt(p,16);var o=(q>>16)&255;var n=(q>>8)&255;var m=q&255;return[o,n,m]}function j(){var n=k.backgroundValue,m=parseInt(k.opacityValue,10);if(n.charAt(0)!=="#"){n="#"+n}if(m===0){colorString="transparent"}else{if(m<100){colorString="rgba("+g(n.substr(1)).concat([m/100]).join(", ")+")"}else{colorString=k.backgroundValue}}e(".sm2-main-controls, .sm2-playlist-drawer",function(o){o.style.backgroundColor=colorString});if(m===0){k.colorOutput.innerHTML="background-color: transparent;"}else{if(m<100){k.colorOutput.innerHTML="background-color: "+n+"; /* non-RGBA fallback */\n background-color: "+colorString+";"}else{k.colorOutput.innerHTML="background-color: "+colorString+";"}}}a.events.add(k.colorPicker,"change",function(o){var n=o.target||o.srcElement,m=n.value;if(m){k.backgroundValue=m}j()});a.events.add(k.opacityPicker,"change",function(o){var n=o.target||o.srcElement,m=n.value;if(m!==undefined){k.opacityValue=m}j()});a.events.add(k.sizePicker,"change",function(o){var n=o.target||o.srcElement,m=n.value;if(m!==undefined){k.sizeValue=m}e(d,function(p){p.style.fontSize=m+"px"})});function l(s,r){var q=s.target||s.srcElement,p=document.documentElement,o=q.value,m=q.value.match(/transparent/i),n=q.options[q.selectedIndex].getAttribute("data-dark");if(r){p.style.background=o;if(n){document.body.style.color="#fff"}else{document.body.style.color="#000"}}else{e(".sm2-inline-texture",function(t){t.style.background=o});document.getElementById("texture-output").innerHTML="background: "+o+";";if(!m){e(d,function(t){a.css.add(t,"textured")})}else{e(d,function(t){a.css.remove(t,"textured")})}h()}}a.events.add(k.pageBackgroundPicker,"change",function(m){l(m,true)});a.events.add(k.playerBackgroundPicker,"change",function(m){l(m,false)});function f(){var m=k.opacityPicker.value;if(m!==k.sizeValue){k.opacityValue=m;j()}}function i(){var m=k.sizePicker.value;if(m!==k.sizeValue){k.sizeValue=m;e(d,function(n){n.style.fontSize=m+"px"});document.getElementById("fontsize-output").innerHTML=m+"px;"}}a.events.add(k.opacityPicker,"mousedown",function(o){var n,m;if(o.button===0){n=a.events.add(document,"mousemove",f);m=a.events.add(document,"mouseup",function(p){n.detach();m.detach()})}});a.events.add(k.sizePicker,"mousedown",function(o){var n,m;if(o.button===0){n=a.events.add(document,"mousemove",i);m=a.events.add(document,"mouseup",function(p){n.detach();m.detach()})}});a.events.add(k.colorPicker,"click",function(o){var n,m;m=a.events.add(k.colorPicker,"change",function(p){if(n){window.clearInterval(n);n=null}m.detach()});n=window.setInterval(function(){var p=k.colorPicker.value;if(k.backgroundValue!==p){k.backgroundValue=p;j()}},50);moveHandler=a.events.add(document,"mousemove",i);upHandler=a.events.add(document,"mouseup",function(p){moveHandler.detach();upHandler.detach()})});function e(m,q){var p,o,n=a.dom.getAll((m||d));for(p=0,o=n.length;p<o;p++){q(n[p])}}function h(){var m=a.dom.getFirst(d).className;m=m.replace(/[ ]playlist\-open|[ ]playing|[ ]paused|[ ]buffering/ig,"");document.getElementById("player-code-example").innerHTML=m}a.events.add(document.getElementById("fullwidth"),"click",function(m){e(null,function(n){a.css.toggle(n,"full-width");h()})});a.events.add(document.getElementById("textured"),"click",function(m){e(null,function(n){a.css.toggle(n,"textured");h()})});a.events.add(document.getElementById("dark"),"click",function(m){e(null,function(n){a.css.toggle(n,"dark-text");h()})});a.events.add(document.getElementById("flat"),"click",function(m){e(null,function(n){a.css.toggle(n,"flat");h()})})})}());